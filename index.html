<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LabCore | Evaluación de ingreso</title>

  <link rel="stylesheet" href="src/css/styles.css" />
</head>

<body>
  <main class="wrap">

    <!-- Header -->
    <section class="top">
      <div class="brand">
        <img class="brand__logo" src="src/img/LabCore.webp" alt="LabCore" />
        <div class="brand__txt">
          <img class="brand__txt" src="src/img/LabCoretxt.webp" alt="LabCore" />
          <!-- <div class="brand__name">LabCore</div> -->
          <div class="brand__sub">Evaluación de ingreso</div>
        </div>
      </div>
    </section>

    <!-- Step 1: Form -->
    <section id="candidateForm" class="card">
      <h1 class="title">Datos del postulante</h1>
      <p class="subtitle">Los campos con <span class="req">*</span> son obligatorios.</p>

      <form class="grid" autocomplete="off">

        <div class="field">
          <label for="firstName">Nombre <span class="req">*</span></label>
          <input id="firstName" class="input" type="text" placeholder="Escribe tu nombre" />
        </div>

        <div class="field">
          <label for="lastName">Apellido <span class="req">*</span></label>
          <input id="lastName" class="input" type="text" placeholder="Escribe tu apellido" />
        </div>

        <div class="field">
          <label for="cedula">Cédula <span class="req">*</span></label>
          <input id="cedula" class="input" type="text" inputmode="numeric" placeholder="Solo números" />
        </div>

        <div class="field">
          <label for="role">Cargo a concursar <span class="req">*</span></label>
          <select id="role" class="input">
            <option value="" selected>Cargando...</option>
          </select>
        </div>

        <div class="field">
          <label for="email">Correo <span class="req">*</span></label>
          <div class="inputWrap">
            <input id="email" class="input" type="email" placeholder="tucorreo@dominio.com" />
            <span class="inputIcon" aria-hidden="true"></span>
          </div>
        </div>

        <div class="field">
          <label for="phone">Celular <span class="req">*</span></label>
          <input id="phone" class="input" type="text" inputmode="tel" placeholder="Ej: 3001234567" />
        </div>

        <div class="field">
          <label for="github">GitHub <span class="req">*</span></label>
          <input id="github" class="input" type="url" placeholder="https://github.com/tuusuario" />
        </div>

        <div class="field">
          <label for="cvFile">Hoja de vida <span class="req">*</span></label>

          <!-- input real -->
          <input id="cvFile" type="file" accept="application/pdf" class="hidden" />

          <!-- picker visual -->
          <div id="cvPicker" class="filePicker" tabindex="0" role="button" aria-label="Adjuntar hoja de vida PDF">
            Haz clic para adjuntar tu PDF
          </div>

          <div class="help">Máx. 8 MB — Solo PDF</div>
        </div>

        <div class="field">
          <label for="linkedin">LinkedIn</label>
          <input id="linkedin" class="input" type="url" placeholder="https://www.linkedin.com/in/tuperfil" />
        </div>

        <div class="field">
          <label for="university">Universidad <span class="req">*</span></label>
          <input id="university" class="input" type="text" placeholder="Escribe tu universidad" />
        </div>

        <div class="field">
          <label for="career">Carrera <span class="req">*</span></label>
          <input id="career" class="input" list="careerList" placeholder="Selecciona... o escribe" />
          <datalist id="careerList"></datalist>
        </div>

        <div class="field">
          <label for="semester">Semestre <span class="req">*</span></label>
          <input id="semester" class="input" list="semesterList" placeholder="Selecciona... o escribe" />
          <datalist id="semesterList"></datalist>
        </div>

        <div class="field field--full">
          <label class="check">
            <input id="acceptPolicy" type="checkbox" />
            <span>Acepto la <a href="#" target="_blank" rel="noopener">Política de tratamiento de datos</a>.</span>
          </label>
        </div>

        <!-- ✅ NUEVO: info de servicio (Render wake) -->
        <div id="serviceInfo" class="alert alert--info hidden" role="status"></div>

        <div id="formError" class="alert alert--danger hidden" role="alert"></div>

        <div class="actions">
          <button id="btnStart" class="btn primary" type="button" disabled>Iniciar prueba</button>
        </div>
      </form>
    </section>

    <!-- Step 2: Exam -->
    <section id="examCard" class="card is-hidden">
      <div class="examTop">
        <h2 class="title">Evaluación</h2>

        <div id="timerBox" class="timerBox hidden" aria-live="polite">
          <div class="timer">
            <div class="timer__label">Tiempo</div>
            <div id="timer" class="timer__value">10:00</div>
            <div id="timeHint" class="timeHint hidden" aria-live="polite"></div>
          </div>
        </div>
      </div>

      <!-- ✅ Se mantiene para backend, pero NO visible al candidato -->
      <div class="examMeta hidden" aria-hidden="true">Incidentes: <b id="incidents">0</b></div>

      <div id="examError" class="alert alert--danger hidden" role="alert"></div>

      <div id="questionHost" class="questionHost"></div>

      <div class="examActions examActions--center">
        <button id="btnPrev" class="btn btn--ghost hidden" type="button">‹</button>
        <button id="btnNext" class="btn btn--ghost" type="button">›</button>
        <button id="btnSubmit" class="btn primary hidden" type="button">Enviar evaluación</button>
      </div>
    </section>

  </main>

  <!-- Modal info -->
  <div id="modalInfo" class="modal hidden" aria-hidden="true">
    <div class="modal__backdrop" data-close="1"></div>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="miTitle">
      <h3 id="miTitle">Antes de iniciar</h3>
      <ul class="modal__list">
        <li>La prueba inicia al continuar.</li>
        <li>No se permite copiar/pegar.</li>
        <li>El tiempo es limitado.</li>
      </ul>
      <div class="modal__actions">
        <button class="btn btn--ghost" type="button" data-close="1">Cancelar</button>
        <button id="btnContinue" class="btn primary" type="button">Continuar</button>
      </div>
    </div>
  </div>

  <!-- Modal result -->
  <div id="modalResult" class="modal hidden" aria-hidden="true">
    <div class="modal__backdrop" data-close="1"></div>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="mrTitle">
      <h3 id="mrTitle">Resultado</h3>
      <p id="mrMsg"></p>
      <div class="modal__actions">
        <button class="btn primary" type="button" data-close="1">Cerrar</button>
      </div>
    </div>
  </div>

  <script src="src/js/app.js"></script>
</body>
</html>