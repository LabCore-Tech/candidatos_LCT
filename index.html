<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LabCore - Evaluación</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <main class="wrap">
      <header class="topbar">
        <div class="brand">
          <img class="brand-icon" src="./LabCore.webp" alt="LabCore" />
          <div class="brand-txt">
            <div class="brand-name">LabCore</div>
            <div class="brand-sub">Evaluación de ingreso</div>
          </div>
        </div>
      </header>

      <section class="card" id="indexCard">
        <h1>Datos del postulante</h1>
        <p class="lead">
          Completa los campos obligatorios y adjunta la hoja de vida antes de iniciar.
          <span class="muted">Los campos con <span class="req">*</span> son obligatorios.</span>
        </p>

        <div class="alert" id="formError" hidden></div>

        <form id="candidateForm" novalidate>
          <div class="grid">
            <div class="field">
              <label for="firstName">Nombre <span class="req">*</span></label>
              <input id="firstName" type="text" placeholder="Escribe tu nombre" autocomplete="given-name" />
            </div>

            <div class="field">
              <label for="lastName">Apellido <span class="req">*</span></label>
              <input id="lastName" type="text" placeholder="Escribe tu apellido" autocomplete="family-name" />
            </div>

            <div class="field">
              <label for="cedula">Cédula <span class="req">*</span></label>
              <input id="cedula" type="text" inputmode="numeric" placeholder="Solo números" />
            </div>

            <div class="field">
              <label for="role">Cargo a concursar <span class="req">*</span></label>
              <select id="role">
                <option value="">Cargando...</option>
              </select>
            </div>

            <div class="field">
              <label for="email">Correo <span class="req">*</span></label>
              <input id="email" type="email" placeholder="tucorreo@dominio.com" autocomplete="email" />
            </div>

            <div class="field">
              <label for="phone">Celular <span class="req">*</span></label>
              <input id="phone" type="text" placeholder="Ej: 3001234567" autocomplete="tel" />
            </div>

            <div class="field">
              <label for="github">GitHub <span class="req">*</span></label>
              <input id="github" type="url" placeholder="https://github.com/tuusuario" />
            </div>

            <!-- ✅ Campo CV sin botón "Seleccionar archivo" -->
            <div class="field">
              <label for="cvFile">Hoja de vida (PDF) <span class="req">*</span></label>
              <div class="file-input" id="cvPicker" role="button" tabindex="0" aria-label="Adjuntar hoja de vida PDF">
                <span id="cvPlaceholder" class="file-placeholder">Haz clic para adjuntar tu PDF</span>
                <span id="cvName" class="file-name" hidden></span>
              </div>
              <input id="cvFile" name="cvFile" type="file" accept="application/pdf,.pdf" required hidden />
              <small class="hint">Máx. 8 MB — Solo PDF</small>
            </div>

            <div class="field">
              <label for="linkedin">LinkedIn</label>
              <input id="linkedin" type="url" placeholder="https://www.linkedin.com/in/tuperfil" />
            </div>

            <div class="field">
              <label for="university">Universidad <span class="req">*</span></label>
              <input id="university" type="text" placeholder="Escribe tu universidad" />
            </div>

            <div class="field">
              <label for="career">Carrera <span class="req">*</span></label>
              <input id="career" type="text" placeholder="Ej: Ingeniería de Sistemas" />
            </div>

            <div class="field">
              <label for="semester">Semestre <span class="req">*</span></label>
              <input id="semester" type="text" placeholder="Ej: 10" />
            </div>
          </div>

          <label class="check">
            <input id="acceptPolicy" type="checkbox" />
            <span>Acepto la <b class="accent">Política de tratamiento de datos</b>.</span>
          </label>

          <div class="actions">
            <button id="btnStart" class="btn primary" type="button">Iniciar evaluación</button>
          </div>
        </form>
      </section>

      <!-- Pantalla examen (se renderiza por JS) -->
      <section class="card" id="examCard" hidden></section>

      <!-- Modal confirmación inicio (se usa también para "locked") -->
      <div class="modal" id="modalInfo" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-card" role="dialog" aria-modal="true">
          <button class="modal-x" id="modalInfoClose" aria-label="Cerrar">×</button>
          <h3 id="modalInfoTitle">Antes de iniciar</h3>
          <p class="modal-text">
            La evaluación dura 10 minutos. Una vez inicie, no cierres la pestaña. Gracias. Tu información quedará registrada.
          </p>
          <div class="modal-actions">
            <button class="btn primary" id="btnAcceptStart">Continuar</button>
          </div>
        </div>
      </div>

      <!-- Modal final -->
      <div class="modal" id="modalDone" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-card" role="dialog" aria-modal="true">
          <h3>Evaluación finalizada</h3>
          <p class="modal-text">Gracias. Tu información fue registrada.</p>
          <div class="modal-actions">
            <button class="btn primary" id="btnDoneOk">OK</button>
          </div>
        </div>
      </div>
    </main>

    <script src="./app.js"></script>
  </body>
</html>
